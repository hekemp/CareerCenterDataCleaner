<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Data Cleaner</title>
  <meta name="description" content="Pomerantz Career Center Data Cleaner">
  <meta name="author" content="Pomerantz Career Center">


  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>


  <link rel="stylesheet" href="css/styles.css">


</head>


<body>

<script>
  // Check for the various File API support.
  if (window.File && window.FileReader && window.FileList && window.Blob) {
    // Great success! All the File APIs are supported.
  } else {
    alert('The File APIs are not fully supported in this browser.');
  }
</script>

<img src="images/Banner.png" class="banner" alt="Data Cleaner">

    <div class="content">

      <h3>Instructions</h3>
      <button class="accordion">Getting Set Up</button>
          <div class="panel">
            <ul style="list-style-type:circle">
              <li>Coffee</li>
              <li>Tea</li>
              <li>Milk</li>
              <li>Milk</li>
            </ul>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          </div>

          <button class="accordion">Starting The Cleaning Process</button>
          <div class="panel">
            <ul style="list-style-type:circle">
              <li>Coffee</li>
              <li>Tea</li>
              <li>Milk</li>
              <li>Milk</li>
            </ul>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          </div>

          <button class="accordion">Additional Cleaning Information</button>
          <div class="panel">

            <ul style="list-style-type:circle">
              <li>You can continue to clean your input file by typing in a new column and then hitting "Start Cleaning" again.</li><br/>
              <li>When you click start cleaning, all matchings from the keys file (and any other matches made in previous cleanings during this file session) will be applied instantly.</li><br/>
              <li>So long as you do not upload a new input file or key file, the matches that you've made will remain during your current session. Changing the file(s) will reset the information for that category. For example, updating your input file will reset what's read in to change, but will not reset your key-value pairs. Be sure to download your changed files before uploading a new one.</li><br/>
              <li>If you make a mistake and want to start over again with the same data file, just reupload that file and key file and click "Start Cleaning" again.</li>
            </ul>
          </div>

          <button class="accordion">Saving Your Files</button>
          <div class="panel">
            <ul style="list-style-type:circle">
              <li>Type the name of the file you wish to save your cleaned data into (without the extension) in the "New File Name" box. For example, if I want the file "2018 Data.csv", I would type "2018 Data" into the "New File Name" box, and then click "Download New File". The file will then be downloaded to your Downloads folder, or a window will prompt you to do so, depending on your browser.</li><br/>
              <li>Type the name of the file you wish to save your updated key-value pairs into (without the extension) in the "Updated Key File Name" box. For example, if I want the file "2018 Data Keys.csv", I would type "2018 Data Keys" in the "Updated Key File Name" box, and then click "Download Key File".</li>
            </ul>
            <p></p>
            <p></p>
          </div>

          <p> <b>Reminder:</b> Be sure to save your new data file and updated key file after you finish cleaning the data. Your uploaded files <i>are not changed</i> and your changes are not kept between sessions.</p>

      <div class="row">
            <div class="col-xs-4 col-sm-4 col-md-4">
              <div class ="form-group">
                <label>Input File</label>
                <input type="file" id="files" name="file" />
                <small id="inputHelp" class="form-text text-muted">Accepted File Types: .csv</small>
                <button type="button" class="btn btn-primary btn-block" onclick="resetInput();">Restore to file contents</button>
              </div>
            </div>
            <div class="col-xs-4 col-sm-4 col-md-4">
              <div class ="form-group">
                <label>Key File</label>
                <input type="file" id="keys" name="key" />
                <small id="keysHelp" class="form-text text-muted">Accepted File Types: .csv</small>
                <button type="button" class="btn btn-primary btn-block" onclick="resetKeys();">Restore to key file contents</button>
              </div>
            </div>
            <div class="col-xs-4 col-sm-4 col-md-4">
              <div class ="form-group">
                <label>Column to Clean</label>
                <input type="text" name="ColumnToChange" id="ColumnToChange" value="">
                <small id="nameHelp" class="form-text text-muted">Use the formating from Excel for your input file (Ex. A, B, AA, or AB)</small>
              </div>
            </div>
        </div>
        <div class="row">
          <div class="col-lg-12">
            <div id="progress_bar"><div class="percent">0%</div></div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-12">
              <button type="button" class="btn btn-primary btn-block" onclick="startCleaning();">Start Cleaning</button>
              <p class="error" id="errorMessage">&nbsp;</p>
          </div>
        </div>



<div class="container">
  <form>
    <h1 id="name-chooser"></h1>
    <h3 id="instruction" class="text-muted"></h3>
    <div id="choices" class="choicesBox">

    </div>
    <div id="custom">

    </div>
  </form>
</div>

<div class="row">
  <div class="col-xs-6 col-sm-6 col-md-6">
    <div class ="form-group">
      <label>New File Name: </label>
      <input type="text" name="FileName" id="FileName" value="">.csv
    </div>
  </div>
  <div class="col-xs-6 col-sm-6 col-md-6">
    <div class ="form-group">
      <button onclick="downloadFile();">Download New File</button><br>
      <small id="fileHelp" class="form-text text-muted">When you click this button, a file with the name you specified in "New File Name" will be saved to your Downloads folder.</small>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-xs-6 col-sm-6 col-md-6">
    <div class ="form-group">
      <label>Updated Key File Name: </label>
      <input type="text" name="KeyFileName" id="KeyFileName" value="">.csv
    </div>
  </div>
  <div class="col-xs-6 col-sm-6 col-md-6">
    <div class ="form-group">
      <button onclick="downloadKeyFile();">Download Key File</button>
      <small id="fileHelp2" class="form-text text-muted">When you click this button, a file with the name you specified in "Updated Key File Name" will be saved to your Downloads folder.</small>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<script src="js/cleaning.js"></script>

</div>

</body>
</html>
